{"ast":null,"code":"import _slicedToArray from\"C:/Users/abhis/Documents/WebDev/CryptoPedia/crypto-pedia/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Container,createTheme,LinearProgress,makeStyles,TableBody,TableCell,TableContainer,TableHead,Paper,TableRow,TextField,ThemeProvider,Typography}from'@material-ui/core';import Table from'@material-ui/core/Table';import axios from'axios';import React,{useEffect,useState}from'react';import{CoinList}from'../config/api';import{useHistory}from\"react-router-dom\";import{CryptoState}from'../CryptoContext';import Pagination from\"@material-ui/lab/Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function numberWithCommas(x){return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");}export default function CoinsTable(){var _handleSearch;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _CryptoState=CryptoState(),currency=_CryptoState.currency,symbol=_CryptoState.symbol,coins=_CryptoState.coins,loading=_CryptoState.loading,fetchCoins=_CryptoState.fetchCoins;var useStyles=makeStyles({row:{backgroundColor:\"#16171a\",cursor:\"pointer\",\"&:hover\":{backgroundColor:\"#131111\"},fontFamily:\"Montserrat\"},pagination:{\"& .MuiPaginationItem-root\":{color:\"gold\"}}});var classes=useStyles();var history=useHistory();var darkTheme=createTheme({palette:{primary:{main:\"#fff\"},type:\"dark\"}});useEffect(function(){fetchCoins();},[currency]);var handleSearch=function handleSearch(){return coins.filter(function(coin){return coin.name.toLowerCase().includes(search)||coin.symbol.toLowerCase().includes(search);});};return/*#__PURE__*/_jsx(ThemeProvider,{theme:darkTheme,children:/*#__PURE__*/_jsxs(Container,{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",style:{margin:18,fontFamily:\"Montserrat\"},children:\"Cryptocurrency Prices by Market Cap\"}),/*#__PURE__*/_jsx(TextField,{label:\"Search For a Crypto Currency..\",variant:\"outlined\",style:{marginBottom:20,width:\"100%\"},onChange:function onChange(e){return setSearch(e.target.value);}}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:loading?/*#__PURE__*/_jsx(LinearProgress,{style:{backgroundColor:\"gold\"}}):/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{style:{backgroundColor:\"#EEBC1D\"},children:/*#__PURE__*/_jsx(TableRow,{children:[\"Coin\",\"Price\",\"24h Change\",\"Market Cap\"].map(function(head){return/*#__PURE__*/_jsx(TableCell,{style:{color:\"black\",fontWeight:\"700\",fontFamily:\"Montserrat\"},align:head===\"Coin\"?\"\":\"right\",children:head},head);})})}),/*#__PURE__*/_jsx(TableBody,{children:handleSearch().slice((page-1)*10,(page-1)*10+10).map(function(row){var profit=row.price_change_percentage_24h>0;return/*#__PURE__*/_jsxs(TableRow,{onClick:function onClick(){return history.push(\"/coins/\".concat(row.id));},className:classes.row,children:[/*#__PURE__*/_jsxs(TableCell,{component:\"th\",scope:\"row\",style:{display:\"flex\",gap:15},children:[/*#__PURE__*/_jsx(\"img\",{src:row===null||row===void 0?void 0:row.image,alt:row.name,height:\"50\",style:{marginBottom:10}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{textTransform:\"uppercase\",fontSize:22},children:row.symbol}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"darkgrey\"},children:row.name})]})]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[symbol,\" \",numberWithCommas(row.current_price.toFixed(2))]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",style:{color:profit>0?\"rgb(14, 203, 129)\":\"red\",fontWeight:500},children:[profit&&\"+\",row.price_change_percentage_24h.toFixed(2),\"%\"]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[symbol,\" \",numberWithCommas(row.market_cap.toString().slice(0,-6)),\"\\xA0M\"]})]},row.name);})})]})}),/*#__PURE__*/_jsx(Pagination,{count:(((_handleSearch=handleSearch())===null||_handleSearch===void 0?void 0:_handleSearch.length)/10).toFixed(0),style:{padding:20,width:\"100%\",display:\"flex\",justifyContent:\"center\"},classes:{ul:classes.pagination},onChange:function onChange(_,value){setPage(value);window.scroll(0,450);}})]})});}","map":{"version":3,"names":["Container","createTheme","LinearProgress","makeStyles","TableBody","TableCell","TableContainer","TableHead","Paper","TableRow","TextField","ThemeProvider","Typography","Table","axios","React","useEffect","useState","CoinList","useHistory","CryptoState","Pagination","numberWithCommas","x","toString","replace","CoinsTable","search","setSearch","page","setPage","currency","symbol","coins","loading","fetchCoins","useStyles","row","backgroundColor","cursor","fontFamily","pagination","color","classes","history","darkTheme","palette","primary","main","type","handleSearch","filter","coin","name","toLowerCase","includes","textAlign","margin","marginBottom","width","e","target","value","map","head","fontWeight","slice","profit","price_change_percentage_24h","push","id","display","gap","image","flexDirection","textTransform","fontSize","current_price","toFixed","market_cap","length","padding","justifyContent","ul","_","window","scroll"],"sources":["C:/Users/abhis/Documents/WebDev/CryptoPedia/crypto-pedia/src/Components/CoinTable.js"],"sourcesContent":["import { Container, createTheme, LinearProgress, makeStyles, TableBody, TableCell, TableContainer, TableHead, Paper, TableRow, TextField, ThemeProvider, Typography } from '@material-ui/core';\r\nimport Table from '@material-ui/core/Table';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { CoinList } from '../config/api';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CryptoState } from '../CryptoContext';\r\nimport Pagination from \"@material-ui/lab/Pagination\";\r\n\r\nexport function numberWithCommas(x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  }\r\n  \r\n  export default function CoinsTable() {\r\n   \r\n    const [search, setSearch] = useState(\"\");\r\n    const [page, setPage] = useState(1);\r\n  \r\n    const { currency, symbol, coins, loading, fetchCoins } = CryptoState();\r\n  \r\n    const useStyles = makeStyles({\r\n      row: {\r\n        backgroundColor: \"#16171a\",\r\n        cursor: \"pointer\",\r\n        \"&:hover\": {\r\n          backgroundColor: \"#131111\",\r\n        },\r\n        fontFamily: \"Montserrat\",\r\n      },\r\n      pagination: {\r\n        \"& .MuiPaginationItem-root\": {\r\n          color: \"gold\",\r\n        },\r\n      },\r\n    });\r\n  \r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n  \r\n    const darkTheme = createTheme({\r\n      palette: {\r\n        primary: {\r\n          main: \"#fff\",\r\n        },\r\n        type: \"dark\",\r\n      },\r\n    });\r\n  \r\n \r\n  \r\n    useEffect(() => {\r\n      fetchCoins();\r\n    }, [currency]);\r\n  \r\n    const handleSearch = () => {\r\n      return coins.filter(\r\n        (coin) =>\r\n          coin.name.toLowerCase().includes(search) ||\r\n          coin.symbol.toLowerCase().includes(search)\r\n      );\r\n    };\r\n  \r\n    return (\r\n      <ThemeProvider theme={darkTheme}>\r\n        <Container style={{ textAlign: \"center\" }}>\r\n          <Typography\r\n            variant=\"h4\"\r\n            style={{ margin: 18, fontFamily: \"Montserrat\" }}\r\n          >\r\n            Cryptocurrency Prices by Market Cap\r\n          </Typography>\r\n          <TextField\r\n            label=\"Search For a Crypto Currency..\"\r\n            variant=\"outlined\"\r\n            style={{ marginBottom: 20, width: \"100%\" }}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n          />\r\n          <TableContainer component={Paper}>\r\n            {loading ? (\r\n              <LinearProgress style={{ backgroundColor: \"gold\" }} />\r\n            ) : (\r\n              <Table aria-label=\"simple table\">\r\n                <TableHead style={{ backgroundColor: \"#EEBC1D\" }}>\r\n                  <TableRow>\r\n                    {[\"Coin\", \"Price\", \"24h Change\", \"Market Cap\"].map((head) => (\r\n                      <TableCell\r\n                        style={{\r\n                          color: \"black\",\r\n                          fontWeight: \"700\",\r\n                          fontFamily: \"Montserrat\",\r\n                        }}\r\n                        key={head}\r\n                        align={head === \"Coin\" ? \"\" : \"right\"}\r\n                      >\r\n                        {head}\r\n                      </TableCell>\r\n                    ))}\r\n                  </TableRow>\r\n                </TableHead>\r\n  \r\n                <TableBody>\r\n                  {handleSearch()\r\n                    .slice((page - 1) * 10, (page - 1) * 10 + 10)\r\n                    .map((row) => {\r\n                      const profit = row.price_change_percentage_24h > 0;\r\n                      return (\r\n                        <TableRow\r\n                          onClick={() => history.push(`/coins/${row.id}`)}\r\n                          className={classes.row}\r\n                          key={row.name}\r\n                        >\r\n                          <TableCell\r\n                            component=\"th\"\r\n                            scope=\"row\"\r\n                            style={{\r\n                              display: \"flex\",\r\n                              gap: 15,\r\n                            }}\r\n                          >\r\n                            <img\r\n                              src={row?.image}\r\n                              alt={row.name}\r\n                              height=\"50\"\r\n                              style={{ marginBottom: 10 }}\r\n                            />\r\n                            <div\r\n                              style={{ display: \"flex\", flexDirection: \"column\" }}\r\n                            >\r\n                              <span\r\n                                style={{\r\n                                  textTransform: \"uppercase\",\r\n                                  fontSize: 22,\r\n                                }}\r\n                              >\r\n                                {row.symbol}\r\n                              </span>\r\n                              <span style={{ color: \"darkgrey\" }}>\r\n                                {row.name}\r\n                              </span>\r\n                            </div>\r\n                          </TableCell>\r\n                          <TableCell align=\"right\">\r\n                            {symbol}{\" \"}\r\n                            {numberWithCommas(row.current_price.toFixed(2))}\r\n                          </TableCell>\r\n                          <TableCell\r\n                            align=\"right\"\r\n                            style={{\r\n                              color: profit > 0 ? \"rgb(14, 203, 129)\" : \"red\",\r\n                              fontWeight: 500,\r\n                            }}\r\n                          >\r\n                            {profit && \"+\"}\r\n                            {row.price_change_percentage_24h.toFixed(2)}%\r\n                          </TableCell>\r\n                          <TableCell align=\"right\">\r\n                            {symbol}{\" \"}\r\n                            {numberWithCommas(\r\n                              row.market_cap.toString().slice(0, -6)\r\n                            )}\r\n                            &nbsp;M\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      );\r\n                    })}\r\n                </TableBody>\r\n              </Table>\r\n            )}\r\n          </TableContainer>\r\n  \r\n          \r\n          <Pagination\r\n            count={(handleSearch()?.length / 10).toFixed(0)}\r\n            style={{\r\n              padding: 20,\r\n              width: \"100%\",\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n            }}\r\n            classes={{ ul: classes.pagination }}\r\n            onChange={(_, value) => {\r\n              setPage(value);\r\n              window.scroll(0, 450);\r\n            }}\r\n          />\r\n        </Container>\r\n      </ThemeProvider>\r\n    );\r\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module"}